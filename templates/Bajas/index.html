{% extends "base/body.html" %}
{%load crispy_forms_tags%}
{%load bootstrap5%}
{% load static %}
{%bootstrap_css%}
{% load bootstrap_icons %}
{% block title %}
    Bajas - SIGMA
{% endblock title %}
{% block header %}
       <h1>Listado general de Bajas</h1>
{% endblock header %}

{% block content %}
    <div class="card">
	  <div class="card-header">
	   Elementos en Proceso de Baja
	  </div>
	  <div class="card-body">
	    <div class="container-fluid">
	    	<div class="row">
	    		<div class="col-md-6">
	    		    {% if query %}
				    <table id="datos" class="table table-striped table-hover table-bordered">
				        <thead>
				            <th>Placa</th>
				            <th>Nombre en Red</th>
				            <th>Descripción de elemento</th>
				            <th>Estado</th>
				            <th>Opciones</th>
				        </thead>
				        <tbody>
				                {% for row in query  %}
				                <tr>
				                    <th scope="row" >{{row.placa}} </th>
				                    <td>{{row.nombreRed}}</td>
				                    <td>{{row.marca}} {{row.modelo}} </td>
				                    <td>{{row.estado}}</td>
				                    <td><a class="btn btn-danger" href="{% url 'bajas:bajaAdd' row.placa %}">Agregar {% bs_icon 'arrow-bar-right' %}</a>
				                    </td>
				                </tr>
				                {% endfor %}
				        </tbody>
				    </table>
				    {% else %}
				    <p>No Hay Registros, añada uno para empezar</p>
				    {% endif %}
	    	</div>
	    	<div class="col-md-6">
	    		{% include './session.html' %}
	    	</div>
	    	</div>
	    </div>
	  </div>
	</div>
{% endblock content %}

{% block js %}
    <script  src="{% static 'js/jquery.min.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery.dataTables.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/datatables.min.css' %}">
    <script src="{% static 'js/data/jquery.dataTables.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/data/dataTable.js' %}" type="text/javascript" charset="utf-8" async defer></script>
    <script src="{% static 'js/data/datatables.min.js' %}" type="text/javascript" charset="utf-8" async defer></script>
{% endblock js %}
